<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" 
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:c="http://java.sun.com/jsp/jstl/core"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:i="http://java.sun.com/jsf/composite/imixs">

<h:head>
	<meta name="viewport" content="width=device-width" />
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
	<meta content="text/javascript" http-equiv="Content-Script-Type" />
	<meta content="text/css" http-equiv="Content-Style-Type" />
	<meta content="text/html; charset=UTF-8" http-equiv="Content-Type" />
	<meta content="Imixs Workflow" name="keywords" />


	<title>#{app.application_title}</title>

	<link rel="shortcut icon" type="image/x-icon"
		href="#{facesContext.externalContext.requestContextPath}/layout/favicon.ico" />


	<!-- creatix-css -->
	<link
		href="#{facesContext.externalContext.requestContextPath}/layout/app/css/creatix-basic.css"
		charset="UTF-8" type="text/css" rel="stylesheet" />
	<link
		href="#{facesContext.externalContext.requestContextPath}/layout/app/css/creatix-layout.css"
		charset="UTF-8" type="text/css" rel="stylesheet" />

	<link
		href="#{facesContext.externalContext.requestContextPath}/layout/app/css/creatix-forms.css"
		charset="UTF-8" type="text/css" rel="stylesheet" />


	<!-- #### Customize TinyMCE  Start -->
	<!--  tinymce disable can be set back to true if new defaulttinymce is supported -->
	<i:imixsHeader disablecss="false" disabletinymce="true"
		dateformat="#{message.datePatternShort}"
		theme="#{facesContext.externalContext.requestContextPath}/layout/app/themes/#{app.application_theme}" />
	<!-- this script can be removed if disabletinymce is set back to false -->
	<script type="text/javascript"
		src="#{facesContext.externalContext.requestContextPath}/imixs/tinymce/jscripts/tiny_mce/jquery.tinymce.js"></script>

	<!-- #### Customize TinyMCE  END -->




	<link
		href="#{facesContext.externalContext.requestContextPath}/marty/imixs-marty.css"
		charset="UTF-8" type="text/css" rel="stylesheet" />

	<link
		href="#{facesContext.externalContext.requestContextPath}/layout/app/css/fonts/typicons.css"
		charset="UTF-8" type="text/css" rel="stylesheet" />
	<link
		href="#{facesContext.externalContext.requestContextPath}/layout/app/css/office-theme.css"
		charset="UTF-8" type="text/css" rel="stylesheet" />


	<link
		href="#{facesContext.externalContext.requestContextPath}/layout/app/css/migration-office-forms.css"
		charset="UTF-8" type="text/css" rel="stylesheet" />




	<link
		href="#{facesContext.externalContext.requestContextPath}/layout/app/css/custom.css"
		charset="UTF-8" type="text/css" rel="stylesheet" />

	<!-- IE 7 support -->
	<h:outputText
		value="&lt;!--[if IE 7]&gt;&lt;link rel=&quot;stylesheet&quot; type=&quot;text/css&quot; href=&quot;#{facesContext.externalContext.requestContextPath}/layout/app/css/ie-support.css&quot; /&gt;&lt;![endif]--&gt;"
		escape="false" />
	<!-- IE 8 support -->
	<h:outputText
		value="&lt;!--[if IE 8]&gt;&lt;link rel=&quot;stylesheet&quot; type=&quot;text/css&quot; href=&quot;#{facesContext.externalContext.requestContextPath}/layout/app/css/ie-support.css&quot; /&gt;&lt;![endif]--&gt;"
		escape="false" />
	<!-- IE 9 support -->
	<h:outputText
		value="&lt;!--[if IE 9]&gt;&lt;link rel=&quot;stylesheet&quot; type=&quot;text/css&quot; href=&quot;#{facesContext.externalContext.requestContextPath}/layout/app/css/ie-support.css&quot; /&gt;&lt;![endif]--&gt;"
		escape="false" />
	<!-- IE 10 support -->
	<h:outputText
		value="&lt;!--[if IE 10]&gt;&lt;link rel=&quot;stylesheet&quot; type=&quot;text/css&quot; href=&quot;#{facesContext.externalContext.requestContextPath}/layout/app/css/ie-support.css&quot; /&gt;&lt;![endif]--&gt;"
		escape="false" />


	<!-- Load the marty component script -->
	<script type="text/javascript"
		src="#{facesContext.externalContext.requestContextPath}/marty/imixs-marty.js"></script>


	<!-- Load DatatablePlugin  -->
	<script type="text/javascript"
		src="#{facesContext.externalContext.requestContextPath}/layout/js/jquery.dataTables.min.js"></script>


	<ui:insert name="header">
	</ui:insert>

	<script type="text/javascript">
		/*<![CDATA[*/
		$(document)
				.ready(
						function() {
							layoutOfficeEditor();

							// waiting feature
							$body = $("body");
							// ajax
							$(document).on({
								ajaxStart : function() {
									$body.addClass("loading");
								},
								ajaxStop : function() {
									$body.removeClass("loading");
								}
							});
							// form submit
							$('form').on('submit', function(e) {
								$body.addClass("loading");
							});

							// translate fileupload widgets....
							$(
									'.imixsFileUpload #imixsFileUpload_button .ui-button-text')
									.text(
											"#{message['form.attachments.addfile']}");
							$('.imixsFileUpload .imixsFileUpload_help').text(
									"#{message['form.attachments.dropfile']}");

							// process menu
							$("#process-menu").menu().hide();

							$(".process-menu-control").click(function() {
								$("#process-menu").show();
							});

							// hide view menu...
							$(document)
									.mouseup(
											function(e) {
												var container = $("#process-menu");
												if (!container.is(e.target)
														&& container
																.has(e.target).length === 0) {
													container.hide();
												}
											});

						});

		// customize tiynmce with additional css file
		function layoutOfficeEditor() {
			$('textarea.imixs-editor')
					.tinymce(
							{
								// Location of TinyMCE script
								script_url : '#{facesContext.externalContext.requestContextPath}/imixs/tinymce/jscripts/tiny_mce/tiny_mce.js',
								// General options
								theme : "advanced",
								plugins : "inlinepopups,fullscreen",
								// Theme options
								theme_advanced_buttons1 : "cut,copy,paste,removeformat,cleanup,|,undo,redo,|,bold,italic,underline,strikethrough,|,justifyleft,justifycenter,justifyright,justifyfull,|,hr,bullist,numlist,",
								theme_advanced_buttons2 : "formatselect,fontsizeselect,outdent,indent,blockquote,|,link,unlink,image,|,forecolor,backcolor,|,fullscreen,code",
								theme_advanced_toolbar_location : "top",
								theme_advanced_toolbar_align : "left",
								theme_advanced_statusbar_location : "bottom",
								theme_advanced_resizing : true,
								content_css : "#{facesContext.externalContext.requestContextPath}/layout/app/css/tinymce.css",
								theme_advanced_path : false
							});

		}

		// set a page navigation cookie 
		function setNavigationCookie(page) {
			var cookie_name = "imixs.office.navigation";
			document.cookie = cookie_name
					+ "="
					+ page
					+ ";path=#{facesContext.externalContext.requestContextPath};";
		}

		/*]]>*/
	</script>



</h:head>


<h:body>
	<f:view locale="#{userController.locale}">

		<div id="header">
			<div id="imixs-servicenav">
				<ui:insert name="servicenav">
					<ui:include src="servicenav.xhtml" />
				</ui:insert>
			</div>
			<div id="imixs-header">
				<ui:insert name="header">
					<ui:include src="header.xhtml" />
				</ui:insert>
			</div>

		</div>
		<!-- END header -->


		<!-- content -->

		<div id="container">
			<div id="imixs-content">
				<ui:insert name="content">
					<h1>Default Content</h1>
				</ui:insert>
			</div>
		</div>


		<!-- END container -->

		<div id="footer">
			<div id="footer1">
				<ui:insert name="extra">
					<ui:include src="/layout/extra.xhtml" />
				</ui:insert>
			</div>
			<div id="footer2">
				<ui:insert name="footer">
					<ui:include src="/layout/footer.xhtml" />
				</ui:insert>
			</div>
		</div>
		<!-- END footer -->

		<div class="imixs-wait">
			<!-- empty -->
		</div>


	</f:view>
</h:body>

</html>