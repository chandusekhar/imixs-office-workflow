<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" 
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:c="http://java.sun.com/jsp/jstl/core"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:i="http://java.sun.com/jsf/composite/imixs">

<h:head>
	<meta name="viewport" content="width=device-width" />
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
	<meta content="text/javascript" http-equiv="Content-Script-Type" />
	<meta content="text/css" http-equiv="Content-Style-Type" />
	<meta content="text/html; charset=UTF-8" http-equiv="Content-Type" />
	<meta content="Imixs Workflow" name="keywords" />


	<title>#{app.application_title}</title>

	<link rel="shortcut icon" type="image/x-icon"
		href="#{facesContext.externalContext.requestContextPath}/layout/favicon.ico" />


	<!-- creatix-css -->
	<link
		href="#{facesContext.externalContext.requestContextPath}/layout/css/creatix-basic.css?build=#{app.application_build_timestamp}"
		charset="UTF-8" type="text/css" rel="stylesheet" />
	<link
		href="#{facesContext.externalContext.requestContextPath}/layout/css/creatix-layout.css?build=#{app.application_build_timestamp}"
		charset="UTF-8" type="text/css" rel="stylesheet" />

	<link
		href="#{facesContext.externalContext.requestContextPath}/layout/css/creatix-forms.css?build=#{app.application_build_timestamp}"
		charset="UTF-8" type="text/css" rel="stylesheet" />


	<!-- imixsHeader -->
	<i:imixsHeader disablecss="false" 
		dateformat="#{message.datePatternShort}"
		build="#{app.application_workflow_build}"
		theme="#{facesContext.externalContext.requestContextPath}/layout/themes/#{app.application_theme}" />

	<!-- tinyMCE -->
	<script type="text/javascript"
		src="#{facesContext.externalContext.requestContextPath}/js/tinymce/tinymce.min.js?build=#{app.application_build_timestamp}"></script>
	
	<link
		href="#{facesContext.externalContext.requestContextPath}/marty/imixs-marty.css?build=#{app.application_build_timestamp}"
		charset="UTF-8" type="text/css" rel="stylesheet" />

	<link
		href="#{facesContext.externalContext.requestContextPath}/layout/css/fonts/typicons.css?build=#{app.application_build_timestamp}"
		charset="UTF-8" type="text/css" rel="stylesheet" />
	<link
		href="#{facesContext.externalContext.requestContextPath}/layout/css/office-theme.css?build=#{app.application_build_timestamp}"
		charset="UTF-8" type="text/css" rel="stylesheet" />


	<link
		href="#{facesContext.externalContext.requestContextPath}/layout/css/migration-office-forms.css?build=#{app.application_build_timestamp}"
		charset="UTF-8" type="text/css" rel="stylesheet" />

	<link
		href="#{facesContext.externalContext.requestContextPath}/layout/css/custom.css?build=#{app.application_build_timestamp}"
		charset="UTF-8" type="text/css" rel="stylesheet" />

	<!-- IE 7 support -->
	<h:outputText
		value="&lt;!--[if IE 7]&gt;&lt;link rel=&quot;stylesheet&quot; type=&quot;text/css&quot; href=&quot;#{facesContext.externalContext.requestContextPath}/layout/css/ie-support.css&quot; /&gt;&lt;![endif]--&gt;"
		escape="false" />
	<!-- IE 8 support -->
	<h:outputText
		value="&lt;!--[if IE 8]&gt;&lt;link rel=&quot;stylesheet&quot; type=&quot;text/css&quot; href=&quot;#{facesContext.externalContext.requestContextPath}/layout/css/ie-support.css&quot; /&gt;&lt;![endif]--&gt;"
		escape="false" />
	<!-- IE 9 support -->
	<h:outputText
		value="&lt;!--[if IE 9]&gt;&lt;link rel=&quot;stylesheet&quot; type=&quot;text/css&quot; href=&quot;#{facesContext.externalContext.requestContextPath}/layout/css/ie-support.css&quot; /&gt;&lt;![endif]--&gt;"
		escape="false" />
	<!-- IE 10 support -->
	<h:outputText
		value="&lt;!--[if IE 10]&gt;&lt;link rel=&quot;stylesheet&quot; type=&quot;text/css&quot; href=&quot;#{facesContext.externalContext.requestContextPath}/layout/css/ie-support.css&quot; /&gt;&lt;![endif]--&gt;"
		escape="false" />




	<ui:insert name="header">
	</ui:insert>




</h:head>


<h:body>
	<f:view locale="#{userController.locale}">

		<div id="header">
			<div id="imixs-servicenav">
				<ui:insert name="servicenav">
					<ui:include src="servicenav.xhtml" />
				</ui:insert>
			</div>
			<div id="imixs-header">
				<ui:insert name="header">
					<ui:include src="header.xhtml" />
				</ui:insert>
			</div>

		</div>
		<!-- END header -->


		<!-- content -->

		<div id="container">
			<div id="imixs-content">
				<ui:insert name="content">
					<h1>Default Content</h1>
				</ui:insert>
			</div>
		</div>


		<!-- END container -->

		<div id="footer">
			<div id="footer1">
				<ui:insert name="extra">
					<ui:include src="/layout/extra.xhtml" />
				</ui:insert>
			</div>
			<div id="footer2">
				<ui:insert name="footer">
					<ui:include src="/layout/footer.xhtml" />
				</ui:insert>
			</div>
		</div>
		<!-- END footer -->

		<div class="imixs-wait">
			<!-- empty -->
		</div>


	</f:view>



	<!-- Load the marty component script -->
	<script type="text/javascript"
		src="#{facesContext.externalContext.requestContextPath}/marty/imixs-marty.js?build=#{app.application_build_timestamp}"></script>


	<!-- Load DatatablePlugin  -->
	<script type="text/javascript"
		src="#{facesContext.externalContext.requestContextPath}/layout/js/jquery.dataTables.min.js?build=#{app.application_build_timestamp}"></script>


	<!-- Imixs-Office-Workflow  -->
	<script type="text/javascript"
		src="#{facesContext.externalContext.requestContextPath}/js/imixs-core.js?build=#{app.application_build_timestamp}"></script>
	<script type="text/javascript"
		src="#{facesContext.externalContext.requestContextPath}/js/imixs-office-workflow.js?build=#{app.application_build_timestamp}"></script>


	<!-- Chart.js -->
	<script type="text/javascript"
		src="#{facesContext.externalContext.requestContextPath}/js/Chart.min.js?build=#{app.application_build_timestamp}"></script>


	<script type="text/javascript">
		/*<![CDATA[*/

		/* Init Script */
		var imixs = IMIXS.org.imixs.core, 
			imixsOfficeWorkflow = IMIXS.com.imixs.workflow.office;

		imixsOfficeWorkflow.contextPath="#{facesContext.externalContext.requestContextPath}";
		
		$(document).ready(function() {
			imixsOfficeWorkflow.layout();
			
			layoutOfficeEditor();
			
			// translate fileupload widgets....
			$('.imixsFileUpload #imixsFileUpload_button .ui-button-text').text(
					"#{message['form.attachments.addfile']}");
			$('.imixsFileUpload .imixsFileUpload_help').text(
					"#{message['form.attachments.dropfile']}");

		});
		
		/* laest sich im moment nicht auslagern (script_url!) see issue #87 */
		layoutOfficeEditor = function() {
			
			
			//tinymce.init({ selector:'textarea.imixs-editor' });
			
			// Layout office default editor
			tinymce.init({
				  selector: 'textarea.imixs-editor',
				  height: 300,
				  plugins: [
				    'advlist autolink lists link image preview',
				    'searchreplace code fullscreen',
				    'contextmenu paste code'
				  ],
				  toolbar: 'insertfile undo redo | styleselect | bold italic | alignleft aligncenter alignright alignjustify | bullist numlist outdent indent | link image',
				  content_css : "#{facesContext.externalContext.requestContextPath}/layout/css/tinymce.css"
			
				});
			
		};
		
		/*]]>*/
	
		
	</script>
	
	
	


</h:body>

</html>