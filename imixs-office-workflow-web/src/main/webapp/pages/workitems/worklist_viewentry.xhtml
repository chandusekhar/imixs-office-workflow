<f:subview xmlns="http://www.w3.org/1999/xhtml"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:ui="http://java.sun.com/jsf/facelets">

	<div class="imixs-viewentry" title="#{empty workitem.item['txtWorkflowAbstract']?'':' '}">
		
		<!-- image block  -->
		<ui:include src="/pages/viewentry_imageblock.xhtml">
			<ui:param name="workitem" value="#{workitem}" />
		</ui:include>
		
		<!-- Standard Info  -->
		<div class="content-block">
			<h:panelGroup>
				<h:link outcome="/pages/workitems/workitem" >
					<!-- summary empty ? -->
					<h:panelGroup
						rendered="#{empty workitem.item['txtWorkflowSummary']}">
						<h:outputText value="#{workitem.item['$modified']}"
							style="font-weight: bold;">
							<f:convertDateTime timeZone="#{message.timeZone}"
								pattern="#{message.dateTimePattern}" />
						</h:outputText>
						<h:outputText value=" #{workitem.item['_subject']}"
							style="font-weight: bold;" />
					</h:panelGroup>
					<h:outputText style="font-weight: bold;" escape="false"
						value="#{workitem.item['txtWorkflowSummary']}" />
				<f:param name="id" value="#{workitem.item['$uniqueid']}"/>
			</h:link>
			</h:panelGroup>
			<br />
			<!-- Status -->
			<h:outputText style="font-weight: bold;"
				value="#{workitem.item['txtworkflowgroup']}: " />
			<h:outputText value="#{workitem.item['txtworkflowstatus']}" />
			<h:outputText value=" (#{workitem.item['txtprocessname']})" />

			<!-- Created/ Modified -->
			<br /> <span> <h:outputText style="font-weight: bold;"
					value="#{message.created}: " /> <h:outputText
					value="#{workitem.item['$created']}" style="font-weight: normal;">
					<f:convertDateTime timeZone="#{message.timeZone}"
						pattern="#{message.dateTimePattern}" />
				</h:outputText> <h:outputText style="font-weight: bold;" value=" #{message.by}: " />
				<h:outputText
					value="#{userController.getUserName(workitem.item['namCreator'])}" />
			</span> <span style="margin-left: 10px;"> <h:outputText
					style="font-weight: bold;" value="#{message.modified}: " /> <h:outputText
					value="#{workitem.item['$modified']}" style="font-weight: normal;">
					<f:convertDateTime timeZone="#{message.timeZone}"
						pattern="#{message.dateTimePattern}" />
				</h:outputText> <h:outputText style="font-weight: bold;" value=" #{message.by}: " />
				<h:outputText
					value="#{userController.getUserName(workitem.item['namCurrentEditor'])}" />
			</span>

			<!-- display owner -->
			<h:panelGroup rendered="#{! empty workitem.item['namowner']}">
				<br />
				<h:outputText style="font-weight: bold; mxargin-left:16px;"
					value="#{message.owner}: " />
				<ui:repeat value="#{workitem.itemList['namowner']}" var="name">
					<h:outputText value="#{userController.getUserName(name)}, " />
				</ui:repeat>
			</h:panelGroup>


		</div>

		<!-- clear floating problem from sidebar in ff and chrome.  -->
		<div style="clear: left;" />

	</div>
	
	<!-- Tooltip -->
	<h:panelGroup style="display:none;" class="imixs-tooltip">
		<h:outputText value="#{message.created}: " style="font-weight:bold;" />
		<h:outputText value="#{workitem.item['$created']}">
				<f:convertDateTime timeZone="#{message.timeZone}" type="both"
					pattern="#{message.dateTimePattern}" />
		</h:outputText>
		<h:outputText
				value=" #{message.by} #{userController.getUserName(workitem.item['namCreator'])}" />
		<hr />
		<h:outputText value="#{workitem.item['txtWorkflowAbstract']}" escape="false" />
	</h:panelGroup>


</f:subview>

