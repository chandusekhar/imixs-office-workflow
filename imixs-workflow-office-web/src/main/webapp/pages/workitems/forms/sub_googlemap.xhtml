<f:subview xmlns="http://www.w3.org/1999/xhtml"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:c="http://java.sun.com/jstl/core"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:a4j="http://richfaces.org/a4j"
	xmlns:rich="http://richfaces.org/rich" id="sub_googlemap_form">


	<!-- see licence: http://www.legal-media.de/?p=37 -->


	<div id="map_canvas" style="width: 100%; height: 300px">


		<iframe id="googlefrm" width="100%" height="300" frameborder="0"
			scrolling="no" marginheight="0" marginwidth="0"
			src="http://maps.google.de/"></iframe>



		<script>
			function changeFrame() {
				var street = "#{supplierMB.workitem.item['_address']}";
				street = street.replace(" ", "+");
				//street=escape(street);

				var city = "#{supplierMB.workitem.item['_city']}";
				city = city.replace(" ", "+");
				//city=escape(city);

				var state = "#{supplierMB.workitem.item['_state']}";
				state = state.replace(" ", "+");
				//state=escape(state);

				var country = "#{supplierMB.workitem.item['_country']}";
				country = country.replace(" ", "+");
				//country=escape(country);

				var address = street
						+ ",+#{supplierMB.workitem.item['_zip']},+" + city
						+ ",+" + country;

				var surl = "http://maps.google.de/maps?f=q&amp;source=s_q&amp;hl=en&amp;geocode=&amp;q="
						+ address + "&amp;output=embed";

				//alert(address);

				var oIframe = document.getElementById('googlefrm');
				var oDoc = (oIframe.contentWindow || oIframe.contentDocument);
				if (oDoc.document)
					oDoc = oDoc.document;
				oDoc.location.href = surl;
				return true;
			}

			changeFrame();
		</script>

	</div>


</f:subview>

