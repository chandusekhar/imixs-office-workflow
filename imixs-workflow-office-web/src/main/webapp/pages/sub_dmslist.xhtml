<f:subview xmlns="http://www.w3.org/1999/xhtml"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:a4j="http://richfaces.org/a4j"
	xmlns:rich="http://richfaces.org/rich" id="sub_notes_dmslist">

	<f:loadBundle basename="bundle.dms" var="dms_messages" />

	<!-- ##### DMS Notes ######### -->
	<a4j:outputPanel layout="block" styleClass="sywapp-view-body">

		<rich:panel style="">
			<f:facet name="header">
				
			<a4j:outputPanel layout="block" >
				<div align="right" style="float:right;">
						<a4j:commandLink actionListener="#{dmsMB.doReset}" title="#{global.refresh}"
								 reRender="list_id">
								<h:graphicImage url="/layout/icons/Update2_16.png"></h:graphicImage>
						</a4j:commandLink>
				</div>
				
				<h:outputText value="#{dms_messages.new_documents}" />
					
				
			</a4j:outputPanel>
	
			</f:facet>
			
			
			<!--  no dms documents found -->
			<a4j:outputPanel id="list_empty_id" rendered="#{empty dmsMB.workitems}">
				<h:outputText value="#{dms_messages.no_documents}" />
			</a4j:outputPanel>
			
			<!-- dms list -->
			<a4j:outputPanel id="list_id" rendered="#{! empty dmsMB.workitems}">
			
				<div style="float: right;">
					<a4j:outputPanel style="margin-right:10px;">
						<h:outputText rendered="#{dmsMB.row == 0}"
							value="#{global.prev}" />
						<a4j:commandLink reRender="list_id"
							actionListener="#{dmsMB.doLoadPrev}"
							rendered="#{dmsMB.row gt 0}" value="#{global.prev}" />
					</a4j:outputPanel>
	
					<h:outputText rendered="#{dmsMB.endOfList}"
						value="#{global.next}" />
					<a4j:commandLink reRender="list_id"
						actionListener="#{dmsMB.doLoadNext}"
						rendered="#{!dmsMB.endOfList}" value="#{global.next}" />
				</div>
				<div style="clear:right;"/>
				<!-- **** Workitems ***** -->
				<rich:dataList var="workitem" value="#{dmsMB.workitems}"
					rowClasses="sywapp-viewentry sywapp-portletentry">

					<h:commandLink actionListener="#{dmsMB.doEdit}"
								action="admin_dmsassign">
					<h:outputText value="#{workitem.item['$created']}">
					<f:convertDateTime timeZone="#{global.timeZone}" 
								pattern="#{global.dateTimePatternShort}" />
					</h:outputText>
				
						<h:outputText value=": #{workitem.item['txtname']}" />
				
					</h:commandLink>
				</rich:dataList>

				
			</a4j:outputPanel>
		</rich:panel>

	</a4j:outputPanel>

</f:subview>

