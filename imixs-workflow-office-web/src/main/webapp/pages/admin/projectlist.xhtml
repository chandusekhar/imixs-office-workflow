<ui:composition xmlns="http://www.w3.org/1999/xhtml"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:c="http://java.sun.com/jstl/core"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:a4j="http://richfaces.org/a4j"
	xmlns:rich="http://richfaces.org/rich"
	template="/layout/template.xhtml">

	<ui:define name="content">
		<f:view>
			<f:loadBundle basename="bundle.project" var="messages" />

			<rich:dragIndicator id="indicator" />

			<h:form id="myprojectsdataForm">
				<div class="sywapp-view sywapp-projectlist">
				
				
				<!-- *** Header **** -->
				<div class="sywapp-view-header">
					<h2><h:outputText value="#{global.admin_projectlist}" /></h2>
				</div>
				<div class="sywapp-view-body sywapp-projectlist-body">
				
				<rich:dataTable id="projects_datatable_id" columns="5"
					value="#{projectlistMB.projects}" var="record">
					

					<rich:column>
						<f:facet name="header">
							<h:outputText value="#{messages.name}" />
						</f:facet>						
						<h:commandLink actionListener="#{projectMB.doEdit}"
							action="admin_project">
							<h:outputText value="#{record.item['txtName']} " />
						</h:commandLink>
						
					</rich:column>
					
				

					<rich:column>
						<f:facet name="header">
							<h:outputText value="#{global.modified} #{global.by}" />
						</f:facet>
						<h:outputText value="#{record.item['$modified']}">
							<f:convertDateTime timeZone="#{global.timeZone}" type="both"
											pattern="#{global.dateTimePattern}" />
						</h:outputText>
						<h:outputText value=" #{record.item['namcurrentEditor']}" />
					</rich:column>
					
					
				
				
					<rich:column>
						<f:facet name="header">
							<h:outputText value="#{global.action}" />
						</f:facet>	
							<!-- Edit -->	
							<h:commandLink title="#{global.edit}" 
								 actionListener="#{projectMB.doEdit}"
								action="admin_project">
								<h:graphicImage url="/layout/icons/Edit_16.png"></h:graphicImage>
							</h:commandLink>	
							
							<!-- Subproject -->
							<h:commandLink title="#{messages.create_subproject}" 
								actionListener="#{projectlistMB.doCreateSubproject}"
							  	action="admin_project">
								<h:graphicImage url="/layout/icons/New_16.png"></h:graphicImage>
							</h:commandLink>
							
							<!-- Delete 
							<h:commandLink title="#{global.delete}" 
								actionListener="projectlistMB.doSoftDelete}"
							  	action="admin_projectlist">
								<h:graphicImage url="/layout/icons/Delete_16.png"></h:graphicImage>
							</h:commandLink>
							-->
						
					</rich:column>
				
				</rich:dataTable>
				
				
				
				
				</div>
				<div class="sywapp-view-footer sywapp-projectlist-footer"><h:commandButton
					actionListener="#{projectlistMB.doLoadPrev}"
					disabled="#{projectlistMB.row==0}" value="#{global.prev}">
				</h:commandButton> <h:commandButton actionListener="#{projectlistMB.doLoadNext}"
					disabled="#{projectlistMB.endOfList}" value="#{global.next}">
				</h:commandButton> <h:commandButton value="#{global.create_new_project}"
					action="admin_project" actionListener="#{projectMB.doCreate}">
				</h:commandButton></div>
				</div>
			</h:form>
		</f:view>
	</ui:define>

</ui:composition>
